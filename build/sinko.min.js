// sinko.js version 0.1 (alpha) - http://github.com/dies-el/sinko
var SinkoInstance,Sinko=function(d){d.available_selector_libraries=function(){var a=[];typeof Sizzle!="undefined"&&a.push("sizzle");typeof jQuery!="undefined"&&a.push("jquery");return a}();d.defaults={selector_library:d.available_selector_libraries[0]};d.init=function(a){a.sinko=SinkoInstance(a)};d.find=function(){return function(a,c){switch(d.defaults.selector_library){case "sizzle":return Sizzle(a,c);case "jquery":return jQuery(a,c)}}}();return d}(Sinko||{});
SinkoInstance=function(d){var a={},c={},e={};a._source=d;var h=function(b,f){var g=Sinko.find(b,f);if(g[0])switch(g[0].tagName){case "INPUT":case "SELECT":case "TEXTAREA":return g[0].value;default:return g[0].innerHTML}};a.ins=function(b,f){if(typeof b==="function")c._base_sync=b;else if(b=="_base_sync")throw"Cannot use internal property name '_base_sync'";else c[b]=f};a.outs=function(b,f){if(arguments.length>1){if(e[b]===undefined)e[b]=[];switch(typeof f){case "function":e[b].push(f);break;case "object":e[b]=
f;break}}return e[b]};a.sync_in=function(){c._base_sync!==undefined&&c._base_sync.apply(a._source);for(property in c)if(c.hasOwnProperty(property))if(property!=="_base_sync")switch(typeof c[property]){case "undefined":a._source[property]=undefined;break;case "function":a._source[property]=c[property].apply(a._source);break;case "string":a._source[property]=h(c[property]);break;case "object":if(c[property].length>0)a._source[property]=Sinko.selector_library=="jquery"?h(c[property]):h(c[property].selector);
break}};a.sync_out=function(){for(property in e)for(var b=0;b<e[property].length;b++)e[property][b].apply(a._source)};a.sync=function(){a.sync_in();a.sync_out()};return a};
